# HTML UI 規格

## 新增的需求

### 需求：基本 UI 結構
Web UI 應提供清晰的介面，讓使用者可以輸入問題、管理 API keys，並查看轉換結果。

#### 情境：開啟 Web UI
- **當** 使用者在瀏覽器中開啟 `index.html`
- **則** 應顯示包含以下元素的介面：
  - 問題輸入區域（textarea）
  - API key 管理區域（可展開/收合）
  - 轉換按鈕
  - 結果顯示區域
  - 複製結果按鈕
- **且** UI 應具有響應式設計，在不同裝置上都能正常顯示

### 需求：問題輸入功能
使用者應能輸入任意長度的問題文字，並獲得即時的字數統計。

#### 情境：輸入問題
- **當** 使用者在問題輸入區域輸入文字
- **則** 應即時顯示字數統計
- **且** 輸入區域應可自動調整高度（或提供捲軸）
- **且** 應提供清除按鈕快速清空輸入

### 需求：API Key 管理 UI
使用者應能方便地管理多組 Gemini API keys，包括新增、編輯、刪除和查看狀態。

#### 情境：管理 API Keys
- **當** 使用者點擊「API Key 設定」按鈕
- **則** 應展開 API key 管理面板
- **且** 應顯示目前已儲存的 keys 列表（遮蔽顯示，例如：`AIza****xyz123`）
- **且** 應提供新增 key 的輸入欄位（最多 5 組）
- **且** 每個 key 應有編輯和刪除按鈕
- **且** 應顯示每個 key 的狀態（啟用/停用）

#### 情境：新增 API Key
- **當** 使用者在新增欄位輸入 API key 並點擊「新增」
- **則** 應驗證 key 格式是否正確（以 `AIza` 開頭）
- **且** 如果格式錯誤，應顯示錯誤訊息
- **且** 如果已有 5 組 keys，應提示無法繼續新增
- **且** 成功新增後應儲存至 localStorage

### 需求：轉換結果顯示
轉換結果應清晰呈現，並提供便捷的複製功能。

#### 情境：顯示轉換結果
- **當** 轉換完成後
- **則** 應在結果區域顯示轉換後的專業提示詞
- **且** 應提供「複製」按鈕一鍵複製結果
- **且** 複製成功後應顯示「已複製」提示（2 秒後消失）
- **且** 應支援 Markdown 格式的語法高亮顯示

### 需求：載入狀態指示
當進行 API 呼叫時，應提供清晰的載入狀態指示。

#### 情境：執行轉換時
- **當** 使用者點擊「轉換」按鈕
- **則** 按鈕應變更為「轉換中...」並禁用
- **且** 應顯示載入動畫或進度指示器
- **且** 輸入區域應禁用以防止修改
- **且** 完成或錯誤後應恢復所有元素狀態

### 需求：錯誤處理 UI
當發生錯誤時，應提供友善的錯誤訊息。

#### 情境：API 呼叫失敗
- **當** API 呼叫失敗（網路錯誤、API key 無效等）
- **則** 應在結果區域顯示錯誤訊息
- **且** 錯誤訊息應清楚說明問題類型
- **且** 應提供建議的解決方案（例如：檢查 API key、網路連線）
- **且** 錯誤訊息應使用紅色或警告色標示

### 需求：深色模式支援
UI 應支援深色模式，並能自動偵測或手動切換。

#### 情境：切換深色模式
- **當** 使用者點擊深色模式切換按鈕
- **則** 應切換到深色主題
- **且** 應儲存使用者偏好至 localStorage
- **且** 下次開啟時應自動套用儲存的主題
- **且** 如果無儲存偏好，應偵測系統主題設定

### 需求：鍵盤快捷鍵
應提供常用操作的鍵盤快捷鍵以提升效率。

#### 情境：使用快捷鍵
- **當** 使用者按下 `Ctrl+Enter`（或 `Cmd+Enter`）
- **則** 應執行轉換操作
- **且** 當使用者按下 `Ctrl+K`
- **則** 應開啟/關閉 API key 管理面板
- **且** 應在 UI 上顯示可用的快捷鍵提示
